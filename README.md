# LiteGraph Factory Simulator

LiteGraph Factory Simulator は、LiteGraph.js を利用して生産ラインのフローを可視化しながらシミュレーションできるシングルページアプリケーションです。ブラウザで直接開くことができ、工程の分岐やバッファを組み合わせたレイアウトを試しながら、スループットや仕掛品 (WIP) の変化を確認できます。

## 主な特徴

- **LiteGraph.js を活用したノードベース UI**: ドラッグ & ドロップで加工ステーション、バッファ、分岐などを自由に配置してレイアウトを構築できます。
- **シミュレーション速度の調整**: 0.1～100 倍速の範囲でシミュレーション速度をリアルタイムに変更できます。
- **作業トークンのアニメーション表示**: 工程間を移動するワークを視覚的に追跡でき、分岐後の流れも確認しやすくなっています。
- **HUD メトリクス**: スループット、仕掛品、直近の処理ワークを常時表示し、ラインの状況を把握できます。
- **レイアウトの保存/読み込み/自動保存**: JSON 形式でレイアウトを保存・復元でき、オートセーブ機能も備えています。
- **組み込みスクリプトエディタ**: 各ノードに紐づくスクリプトをブラウザ上で編集し、振る舞いを細かく調整できます。
- **例レイアウトのプリセット**: シンプル、分岐、バッファ付きなどのテンプレートをワンクリックで読み込めます。

## 使い方

1. `index.html` をブラウザで開きます。追加のビルドやサーバーは不要です。
2. 画面左上のコントロールでシミュレーションの開始/停止/リセットおよび速度変更が行えます。
3. グラフエリアを右クリックしてノードを追加し、リンクを張ってフローを構築します。
4. HUD でパフォーマンス指標を確認しつつ、必要に応じてレイアウトを微調整します。
5. 保存ボタンで現在のレイアウトを JSON としてダウンロードできます。読み込みボタンから再利用可能です。

## 開発メモ

- 依存ライブラリは CDN から読み込んでいます。オフライン利用やバージョン固定が必要な場合はダウンロードしてローカルに配置してください。
- コードは `index.html` 1 ファイルで完結しています。スタイル、ロジックともに同ファイル内で管理しています。
- ライセンスはリポジトリ同梱の `LICENSE` (MIT License) に従います。

## ライセンス

このプロジェクトは MIT License の下で公開されています。詳細は [LICENSE](LICENSE) を参照してください。
